<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Seb | Keytechnik </title>

        <link rel="icon" href="img/cl.png">

        <link rel="stylesheet" href="bootstrap-5.3.3-dist/css/bootstrap.min.css" media="all">
        <link rel="stylesheet" href="stylesheet.css">
        <link rel="stylesheet" href="checkbox_switch.css">
        <link rel="stylesheet" href="DynamicSelect.css">

    </head> 
    <body>
        <h1> Key-Technik</h1>

        <div class="fluid-container">
            <div class="item item-wide" >

                <div class="canvas_container cc-left" id="FILL_canvas_container">
                    <canvas class="canvas" id="FILL_canvas"> </canvas>
                    <button class="fullscreen-button" onclick="fullscreen(`FILL_canvas_container`)"> </button>
                    <select id="bildCanvas1" name="bildauswahl_fuer_FILL"> </select>
                    <p class="canvas-lable"> FILL </p>
                </div>

                <p class="mal"> &#10799; </p>
                <p class="plus-neben"> + </p>

                <div class="canvas_container cc-right" id="KEY_canvas_container">
                    <canvas class="canvas" id="KEY_canvas"> </canvas>
                    <button class="fullscreen-button" onclick="fullscreen(`KEY_canvas_container`)" id="KEY_canvas_button"> </button>
                    <p class="canvas-lable"> KEY </p>
                </div>


                <svg class="klammer" id="klammer1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 342.16 56.69">
                    <line class="klammerSVG" x1="171.08" y1="56.69" x2="171.08" y2="28.35"/>
                    <polyline class="klammerSVG" points="341.16 0 341.16 28.35 1 28.35 1 0"/>
                </svg>

                <br>

                <div class="canvas_container cc-center" id="FILL_x_KEY_canvas_container">
                    <canvas class="canvas" id="FILL_x_KEY_canvas"> </canvas>
                    <button class="fullscreen-button" onclick="fullscreen(`FILL_x_KEY_canvas_container`)" id="FILL_x_KEY_canvas_button"> </button>
                </div>
                
            </div>
            
            <p class="plus-unter"> + </p>

            <div class="item item-wide">

                <div class="canvas_container cc-left" id="BG_canvas_container">
                    <canvas class="canvas" id="BG_canvas"> </canvas>
                    <button class="fullscreen-button" onclick="fullscreen(`BG_canvas_container`)"> </button>
                    <select id="bildCanvas2" name="bildauswahl_fuer_BG"></select>
                    <p class="canvas-lable"> BG </p>
                </div>

                <p class="mal"> &#10799; </p>
                <p class="gleich-neben"> = </p>
                        
                <div class="canvas_container cc-right" id="invKEY_canvas_container">
                    <canvas class="canvas" id="invKEY_canvas"> </canvas>
                    <button class="fullscreen-button" onclick="fullscreen(`invKEY_canvas_container`)"> </button>
                    <p class="canvas-lable"> 1-KEY </p>
                </div>


                <svg class="klammer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 342.16 56.69">
                    <line class="klammerSVG" x1="171.08" y1="56.69" x2="171.08" y2="28.35"/>
                    <polyline class="klammerSVG" points="341.16 0 341.16 28.35 1 28.35 1 0"/>
                </svg>

                <br>

                <div class="canvas_container cc-center" id="BG_x_invKEY_canvas_container">
                    <canvas class="canvas" id="BG_x_invKEY_canvas"> </canvas>
                    <button class="fullscreen-button" onclick="fullscreen(`BG_x_invKEY_canvas_container`)"> </button>
                </div>

            </div>

            <p class="gleich-unter"> = </p>
            
            <div class="item item-narrow">
                
                <div class="canvas_container cc-center" id="RESULT_canvas_container">
                    <canvas class="canvas" id="RESULT_canvas"> </canvas>
                    <button class="fullscreen-button" onclick="fullscreen(`RESULT_canvas_container`)"> </button>
                    <p class="canvas-lable"> OUTPUT </p>
                </div>

            </div>
        </div>


        <!-- --- --- --- --- --- --- --- --- -->
        <!-- Key      0    0    0    Premult -->  
        <!-- Source  Gain Clip Dens  Inverse -->  
        <!-- --- --- --- --- --- --- --- --- -->

        <div id="Einstellungsleiste">
            <!-- style="background-color: rgb(26, 26, 26);" -->

            <!-- Radio -->
            <div id="UI-box-1" class="UI-box">
            
                <div class="radio" role="group" id="oberesRadio" style="font-size: 20pt; font-family: CabinetGrotesk-Light; ">
                    <div class="UI-big-lable" style="font-family: CabinetGrotesk-Regular; "> Type </div>

                    <input type="radio" class="radio-elem" name="Key-Auswahl" id="Luminanz" autocomplete="off" checked value="luma">
                    <label class="radio-elem-lable" for="Luminanz">Luminanz</label>
            
                    <br>

                    <input type="radio" class="radio-elem" name="Key-Auswahl" id="Chroma" autocomplete="off" value="chroma">
                    <label class="radio-elem-lable" for="Chroma">Chroma</label>

                    <button style="display: flex" onclick="setLinearKey()"> Linear Key </button>
                </div>

                <div class="radio" role="group" style="font-size: 20pt; font-family: CabinetGrotesk-Light;">
                    <div class="UI-big-lable" style="font-family: CabinetGrotesk-Regular; ">Source </div>
    
                    <input type="radio" class="radio-elem" name="Source-Auswahl" id="Self" value="self" autocomplete="off" checked>
                    <label class="radio-elem-lable" for="Self">Self</label>
                
                    <br>

                    <input type="radio" class="radio-elem" name="Source-Auswahl" id="Split" value="split" autocomplete="off">
                    <label class="radio-elem-lable" for="Split">Split</label>
                
                    <br>

                    <input type="radio" class="radio-elem" name="Source-Auswahl" id="Autoselect" value="auto" autocomplete="off">
                    <label class="radio-elem-lable" for="Autoselect">Auto select</label>
                    <!-- mit "btn-check" wirds unsichtbar - botstrap -->
                </div>

            </div>
        
            <div id="UI-box-2u3" class="UI-box">
                
            <!-- Knobs -->
            <div id="UI-box-2" class="UI-box-inner">
                
                <button class="question" id="KnobsQuestion" onclick="openErklaerung('KnobsExplanation')"> <span style="position: relative; top: -1px;"> ? </span> </button>
                <div class="explanation" id="KnobsExplanation"> 
                    <button class="explanationClose" onclick="closeErklaerung('KnobsExplanation')"> <span style="position: relative; top: -7px; left: -0.8px; font-size: 1.2rem;"> &#10799; </span> </button> 
                    <video autoplay loop muted playsinline style="background:transparent; width:120px; height:auto; display:block;">
                    <source src="Knobs2.webm" type='video/webm; codecs="vp9, vorbis"'>
                    </video>
                    <p style="margin-top: auto; margin-bottom: auto; margin-right: 0.5rem; font-size: 12pt"> Klicke auf den Drehregler und ziehe ihn nach oben oder rechts, um den Wert zu erhöhen – nach unten oder links, um ihn zu verringern. </p>
                </div> 

                <div class="knob-label-value-container">
                    <p class="value-lable" id="gain-value"> 0 </p>
                    <input type="range" class="input-knob" id="gain" min="-100" max="100" step="1" value="0"data-bgcolor="#444" data-fgcolor="#DDD"  data-diameter="36" data-reset="0"/>
                    <p class="UI-big-lable"> Gain </p>
                </div>

                <div class="knob-label-value-container">
                    <p class="value-lable" id="clip-value"> 50 </p>
                    <input type="range" class="input-knob" id="clip" min="0" max="100" step="1" value="50"data-bgcolor="#444" data-fgcolor="#DDD"  data-diameter="36" data-reset="50" />
                    <p class="UI-big-lable"> Clip </p>
                </div>
                
                <div class="knob-label-value-container" id="chomaEinstellungen" style="display: none; transition: display 0.5s;">
                    <p class="value-lable" id="hue-value" style="background-color: red; color: white;"> 0° </p>
                    <input type="range" class="input-knob" id="hue" min="0" max="359" step="1" value="0" data-bgcolor="#444" data-fgcolor="#DDD" data-diameter="36" data-nostop="true" data-knobMode="circularabs"/>
                    <p class="UI-big-lable"> Hue </p>
                    <!-- <label id="Farbvorschau"> 
                        <input type="color" id="color_picker" value="#ff0000">
                    </label> -->
                </div>
                
                <div class="knob-label-value-container">
                    <p class="value-lable" id="density-value"> 100 </p>
                    <input type="range" class="input-knob" id="density" min="0" max="100" step="1" value="100" data-bgcolor="#444" data-fgcolor="#DDD" data-diameter="36" data-reset="100"/>
                    <p class="UI-big-lable"> Density </p>
                </div>

            </div> 

            <!-- Switch -->
            <div id="UI-box-3" class="UI-box-inner" style="display: flex;">

                <div id="UI-box-3-1" class="UI-check-container">
                    <div style="height: 40px; display: flex; align-items: center;"> 
                    <label for="preMultiplied" class="UI-big-lable"> Premultiplied </label>
                    </div>
                    <div style="height: 40px; display: flex; align-items: center;"> 
                    <label for="Inverse" class="UI-big-lable"> Inverse </label>
                    </div>
                </div>

                <div id="UI-box-3-2" class="UI-check-container">
                    <div style="height: 40px; display: flex; align-items: center;"> 
                        <input type="checkbox" id="preMultiplied" class="toggle-switch" checked = false>
                    </div>
                    <div style="height: 40px; display: flex; align-items: center;"> 
                        <input type="checkbox" id="Inverse" class="toggle-switch" checked = false>
                    </div>
                </div>

            </div>
            </div>
            
            </div>

        </div>

           
        <!-- Experten einstellungen -->
        <label for="size-norm-Auswahl" class="label-exp-sett"> Auflösung </label> 
        <select name="size-Auswahl" id="size-norm-Auswahl" class="basic-dropdown" onchange="changeNormCanvRes(this)">
            <option value="Klein"> Klein </option>
            <option value="Mittel" selected> Mittel </option>
            <option value="HD"> HD </option> 
            <option value="UHD">UHD</option>
        </select>

        <br>

        <label for="size-voll-Auswahl" class="label-exp-sett"> Vollbild Auflösung </label>
         <select name="size-Auswahl" id="size-voll-Auswahl" class="basic-dropdown" onchange="changeFullscreenCanvRes(this)">
            <option value="Klein"> Klein </option>
            <option value="Mittel"> Mittel </option>
            <option value="HD" selected> HD </option> 
            <option value="UHD">UHD</option>
        </select>

        <br>

        <label for="Beschr" class="label-exp-sett"> Beschriftungen </label> 
        <input type="checkbox" class="basic-checkbox" id="Beschr" onclick="beschriftungen(this)">

        <!-- <br>

        <label for="dzs"> Schieberegler statt Drehknöpfen </label> <input type="checkbox" class="basic-checkbox" id="dzs" onclick="(this)"> -->
        
        <br>
        <br>

            



        <!-- Bugfix für Edge -->
        <div id="overlay" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 1); display: none; z-index: 9999;">
        </div>


        <div class="footer">
            <br>
            <img src="img/cl.png" width="24px">
            <br>
            © Sebastian Rohde 2025
        </div>


        <canvas id="canvas" style="display: none;"></canvas>

        <script type="text/javascript" src="simmulation-style-script.js"></script>
        <script type="text/javascript" src="canvas-button.js"></script>
        <script type="text/javascript" src="generate_key.js"></script>
        <script type="text/javascript" src="canvas_setup.js"></script>
        <script type="text/javascript" src="hsl_und_rgb.js"></script>
        <script type="text/javascript" src="effekte.js"></script>
        <script type="text/javascript" src="testbilder.js"></script>
        <script type="text/javascript" src="script.js"></script>
        <script type="text/javascript" src="input-knobs.js"></script>
        <script type="text/javascript" src="input-verarbeitung.js"></script>   
        <script type="text/javascript" src="DynamicSelect.js"></script>
        <script type="text/javascript" src="DynamicSelect_Implementation.js"></script>
    </body>
</html>
